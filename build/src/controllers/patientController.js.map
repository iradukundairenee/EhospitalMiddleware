{"version":3,"file":"patientController.js","names":["_catchAsync","require","convertToCSV","data","csvData","headers","Object","keys","push","join","item","row","key","patients","id","name","age","email","phone","address","condition","getAllPatients","catchAsync","req","res","status","json","exports","getPatientById","Number","params","patient","find","message","createPatient","newPatient","body","length","updatePatientById","updatedPatient","index","findIndex","deletePatientById","splice","grantAccess"],"sources":["../../../src/controllers/patientController.js"],"sourcesContent":["import { catchAsync } from \"../utils/catchAsync\";\n\n\n function convertToCSV(data) {\n  const csvData = [];\n  const headers = Object.keys(data[0]);\n\n  // Add headers to CSV data\n  csvData.push(headers.join(\",\"));\n\n  // Add each row of data to CSV data\n  for (let item of data) {\n    let row = [];\n    for (let key in item) {\n      row.push(item[key]);\n    }\n    csvData.push(row.join(\",\"));\n  }\n\n  // Combine all rows of data into a single CSV string\n  return csvData.join(\"\\n\");\n}\n\nconst patients = [\n  {\n    id: 1,\n    name: \"John Smith\",\n    age: 35,\n    email: \"john.smith@example.com\",\n    phone: \"123-456-7890\",\n    address: \"123 Main St, Anytown USA\",\n    condition: \"High blood pressure\",\n  },\n  {\n    id: 2,\n    name: \"Jane Doe\",\n    age: 28,\n    email: \"jane.doe@example.com\",\n    phone: \"987-654-3210\",\n    address: \"456 Elm St, Anytown USA\",\n    condition: \"Diabetes\",\n  },\n  {\n    id: 3,\n    name: \"Bob Johnson\",\n    age: 50,\n    email: \"bob.johnson@example.com\",\n    phone: \"555-123-4567\",\n    address: \"789 Oak St, Anytown USA\",\n    condition: \"Heart disease\",\n  },\n];\n\nexport const getAllPatients = catchAsync(async (req, res) => {\n  res.status(200).json(patients);\n});\n\nexport const getPatientById = catchAsync(async (req, res) => {\n  const id = Number(req.params.id);\n  const patient = patients.find((patient) => patient.id === id);\n\n  if (!patient) {\n    return res.status(404).json({ message: \"Patient not found\" });\n  }\n\n  res.status(200).json(patient);\n});\n\nexport const createPatient = catchAsync(async (req, res) => {\n  const newPatient = req.body;\n  newPatient.id = patients.length + 1;\n  patients.push(newPatient);\n\n  res.status(201).json(newPatient);\n});\n\nexport const updatePatientById = catchAsync(async (req, res) => {\n  const id = Number(req.params.id);\n  const updatedPatient = req.body;\n\n  let index = patients.findIndex((patient) => patient.id === id);\n  if (index === -1) {\n    return res.status(404).json({ message: \"Patient not found\" });\n  }\n\n  patients[index] = { ...patients[index], ...updatedPatient };\n  res.status(200).json(patients[index]);\n});\n\nexport const deletePatientById = catchAsync(async (req, res) => {\n  const id = Number(req.params.id);\n  let index = patients.findIndex((patient) => patient.id === id);\n  if (index === -1) {\n    return res.status(404).json({ message: \"Patient not found\" });\n  }\n\n  patients.splice(index, 1);\n  res.status(204).json();\n});\n\nexport const grantAccess = catchAsync(async (req, res) => {\n  // TODO: Implement function\n});\n"],"mappings":"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"}